# Tax-Insight 个人税务与财务情报看板 - 设计文档

**日期**: 2026-01-22
**版本**: MVP (最小可行版本)

## 项目概述

Tax-Insight 是一个专业的个人税务与财务情报看板，提供最新税务新闻展示和个人所得税计算功能。

### 核心功能
1. **最新税务新闻** - 卡片瀑布流展示（含配图、标题、摘要）
2. **个人所得税计算器** - 支持 2024-2026 现行标准，包含专项附加扣除

## 技术架构

### 技术栈
- **框架**: Next.js 15 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS + shadcn/ui
- **UI 风格**: 专业商务风格（深色/浅色主题）
- **状态管理**: React Context
- **图标库**: Lucide React
- **主题系统**: next-themes

### 项目结构
```
tax-insight/
├── src/
│   ├── app/                    # Next.js App Router
│   │   ├── api/               # API Routes
│   │   │   ├── news/route.ts  # 新闻数据接口
│   │   │   └── tax/route.ts   # 个税计算接口（可选）
│   │   ├── layout.tsx         # 根布局
│   │   └── page.tsx           # Dashboard 首页
│   ├── components/
│   │   ├── NewsCard.tsx       # 新闻卡片组件
│   │   ├── TaxCalculator.tsx  # 个税计算器
│   │   ├── ThemeToggle.tsx    # 主题切换
│   │   └── ui/                # shadcn/ui 基础组件
│   ├── lib/
│   │   ├── tax-calculator.ts  # 个税计算核心逻辑
│   │   └── utils.ts
│   ├── types/
│   │   └── index.ts           # TypeScript 类型定义
│   └── data/
│       └── mock-news.ts       # Mock 新闻数据
├── public/
│   └── images/                # 静态资源
├── tailwind.config.ts
└── package.json
```

## 功能详细设计

### 1. 税务新闻展示模块

**展示方式**: 卡片瀑布流（Grid 布局）

**卡片内容**:
- 新闻配图（16:9 比例）
- 新闻标题（1-2 行）
- 发布日期
- 摘要内容（3-4 行）
- 标签（政策变动/通知公告/税务解读）
- 悬停效果（阴影加深、轻微上移）

**数据结构**:
```typescript
interface NewsItem {
  id: string;
  title: string;
  summary: string;
  date: string;
  image: string;
  tags: string[];
  content?: string; // 可选详情
}
```

**Mock 数据**:
- 准备 8-10 条税务相关新闻
- 涵盖政策变动、申报提醒、税收优惠等主题
- 使用占位图片或免费图库

### 2. 个人所得税计算器

**计算标准**: 2024-2026 现行标准
- 起征点: 5000 元/月
- 7 级超额累进税率表:
  - 0-36,000: 3%
  - 36,000-144,000: 10%
  - 144,000-300,000: 20%
  - 300,000-420,000: 25%
  - 420,000-660,000: 30%
  - 660,000-960,000: 35%
  - 960,000+: 45%

**专项附加扣除**（7 项）:
1. 子女教育: 2000 元/月/子女
2. 继续教育: 400 元/月 或 3600 元/年
3. 大病医疗: 最高 80,000 元/年
4. 住房贷款利息: 1000 元/月
5. 住房租金: 1500/1100/800 元/月（按城市规模）
6. 赡养老人: 3000 元/月（独生）/ 分摊（非独生）
7. 3 岁以下婴幼儿照护: 2000 元/月/子女

**输入项**:
- 月工资收入
- 五险一金扣除额
- 专项附加扣除选项（多选）

**输出项**:
- 应纳税所得额
- 适用税率
- 速算扣除数
- 应缴个税
- 税后收入
- 年度预估

**UI 设计**:
- 左侧: 输入表单（数字输入框 + 复选框）
- 右侧: 计算结果卡片（高亮显示关键数据）
- 底部: 税率表参考

### 3. Dashboard 布局

**布局方案**: 两栏式响应式布局

**桌面端** (≥1024px):
```
+----------------------------------+
|  Header (Logo + 主题切换)         |
+----------------------------------+
|                                  |
|  [个税计算器 - 左侧占 40%]         |
|                                  |
|                                  |
+----------------------------------+
|                                  |
|  [税务新闻 - 全宽，Grid 3 列]      |
|                                  |
+----------------------------------+
```

**移动端** (<1024px):
- 垂直堆叠
- 个税计算器在上
- 新闻单列展示

### 4. 主题系统

**浅色主题**:
- 背景: slate-50
- 卡片: white
- 主色: blue-600
- 文字: slate-900

**深色主题**:
- 背景: slate-900
- 卡片: slate-800
- 主色: blue-400
- 文字: slate-100

## API 设计

### GET /api/news
**响应**:
```json
{
  "data": [
    {
      "id": "1",
      "title": "2026年个税专项附加扣除新政发布",
      "summary": "国家税务总局发布...",
      "date": "2026-01-20",
      "image": "/images/news-1.jpg",
      "tags": ["政策变动"]
    }
  ]
}
```

### POST /api/tax (可选)
**请求体**:
```json
{
  "monthlyIncome": 15000,
  "socialInsurance": 2000,
  "deductions": {
    "childEducation": 2000,
    "housingLoan": 1000
  }
}
```

**响应**:
```json
{
  "taxableIncome": 10000,
  "taxRate": 0.1,
  "quickDeduction": 2520,
  "tax": 480,
  "afterTaxIncome": 14520
}
```

## 实现优先级

**Phase 1** (核心功能):
1. 项目初始化 + Tailwind 配置
2. 个税计算逻辑实现
3. 基础组件开发（TaxCalculator）
4. Mock 新闻数据 + NewsCard 组件

**Phase 2** (完善体验):
1. API Routes 实现
2. 主题切换功能
3. 响应式布局优化
4. 交互动效

**Phase 3** (优化细节):
1. 数据可视化（可选图表）
2. 表单验证
3. 错误处理
4. 性能优化

## 成功标准

1. ✅ 页面在桌面端和移动端都能正常展示
2. ✅ 个税计算结果准确（与官方计算器一致）
3. ✅ 深浅主题切换流畅无闪烁
4. ✅ 新闻卡片瀑布流布局美观
5. ✅ 整体风格专业、商务化

## 部署方案

- **推荐**: Vercel (Next.js 官方平台，零配置)
- **备选**: Netlify / Cloudflare Pages
- **环境变量**: 无需配置（使用 Mock 数据）
